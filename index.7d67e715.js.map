{"mappings":"MAAAA,EAAiB,C,YASjB,WAIE,OAHAC,EAASC,UAAUC,OAAO,UAE1BC,EAAYC,aAAa,UAAU,GAC5BC,MAAM,sCAAuC,CAClDC,QAAS,CACP,YAZJ,2EAeGC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,sCAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GACiBA,EAAKC,KAAIC,IAAU,CACtCC,MAAOD,EAAME,GACbC,KAAMH,EAAMG,WAMfC,OAAMC,IACLC,EAAaC,MAAMC,QAAU,QAC7BC,QAAQC,IAAI,gDAAiDL,GAC7DhB,EAAYkB,MAAMC,QAAU,MAAM,IAEnCG,SAAQ,KACPzB,EAASC,UAAUyB,IAAI,UAEvBvB,EAAYwB,gBAAgB,SAAS,G,kBAI3C,SAAyBC,GAKvB,OAJA5B,EAASC,UAAUC,OAAO,UAC1BC,EAAYC,aAAa,YAAY,GACrCyB,EAAeR,MAAMC,QAAU,OAG7BjB,MAAM,wDAAwDuB,IAAW,CACvEtB,QAAS,CACP,YAlDN,2EAqDKC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,gCAElB,OAAOF,EAASG,MAAM,IAKvBO,OAAMC,IAGLI,QAAQJ,MAAM,iCAAkCA,EAAM,IAEvDM,SAAQ,KACPzB,EAASC,UAAUyB,IAAI,UACvBvB,EAAYwB,gBAAgB,YAC5BE,EAAeR,MAAMC,QAAU,MAAM,G,GAvE7C,MAEMnB,EAAc2B,SAASC,cAAc,iBACrC/B,EAAW8B,SAASC,cAAc,WAClCF,EAAiBC,SAASC,cAAc,aACxCX,EAAeU,SAASC,cAAc,UCL5C,MAAMC,EAAcF,SAASC,cAAc,iBACrCE,EAAeH,SAASC,cAAc,UAO5CD,SAASI,iBAAiB,oBAAoB,MAC5C,EAAAnC,EAAAoC,eAAc5B,MAAK6B,IACjBA,EAAaC,SAAQC,IACnB,MAAMC,EAAgBT,SAASU,cAAc,UAC7CD,EAAcxB,MAAQuB,EAAOvB,MAC7BwB,EAAcE,YAAcH,EAAOrB,KACnCe,EAAYU,YAAYH,EAAc,GACtC,GACF,IAGJP,EAAYE,iBAAiB,UAAU,WACrC,MAAMS,EAAkBX,EAAYjB,MACpCkB,EAAaZ,MAAMC,QAAU,QAE7B,EAAAvB,EAAA6C,iBAAgBD,GACbpC,MAAKsC,IACJ,KAAIA,EAAQC,OAAS,GAgBnB,MAAM,IAAIpC,MAAM,wBAhBM,CACtB,MAAMqC,EAAMF,EAAQ,GAAGG,OAAO,GACxBC,EAASJ,EAAQ,GACvBtB,QAAQC,IAAIqB,GACZ,MAAMK,EAAU,0CACeD,EAAOE,4FAEPJ,EAAI9B,yDACE8B,EAAIK,uGACgCL,EAAIM,yDAItDvB,SAASC,cAAc,aAC/BuB,UAAYJ,C,CAEY,IAG1ChC,OAAMC,IACLc,EAAaZ,MAAMC,QAAU,QAC7BC,QAAQJ,MAAM,0CAA2CA,EAAM,G","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["module.exports = { fetchBreeds, fetchCatByBreed };\n\nconst apiKey =\n  'live_8nXLD69ky6MH51nGc5mvPbjfOi98w4qyCcfPOoIFwqHLRKTTVCD9ryS7DrODa9D1';\nconst breedSelect = document.querySelector('.breed-select');\nconst loadInfo = document.querySelector('.loader');\nconst catInfoElement = document.querySelector('.cat-info');\nconst errorElement = document.querySelector('.error');\n\nfunction fetchBreeds() {\n  loadInfo.classList.remove('loader');\n  //breedSelect.style.display = 'none';\n  breedSelect.setAttribute('hidden', true);\n  return fetch('https://api.thecatapi.com/v1/breeds', {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to retrieve cat brees data.');\n      }\n      return response.json();\n    })\n    .then(data => {\n      const breedOptions = data.map(breed => ({\n        value: breed.id,\n        name: breed.name,\n      }));\n\n      return breedOptions;\n    })\n\n    .catch(error => {\n      errorElement.style.display = 'block';\n      console.log('There was a problem with the fetch operation:', error);\n      breedSelect.style.display = 'none';\n    })\n    .finally(() => {\n      loadInfo.classList.add('loader');\n      //breedSelect.style.display = 'block';\n      breedSelect.removeAttribute('hidden');\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  loadInfo.classList.remove('loader');\n  breedSelect.setAttribute('disabled', true);\n  catInfoElement.style.display = 'none';\n  //catInfoElement.setAttribute('hidden', true);\n  return (\n    fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, {\n      headers: {\n        'x-api-key': apiKey,\n      },\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to retrieve cat data.');\n        }\n        return response.json();\n      })\n      //.then(data => {\n      //  return data;\n      //})\n      .catch(error => {\n        //errorElement.style.display = 'block';\n        //breedSelect.style.display = 'none';\n        console.error('Error while fetching cat data:', error);\n      })\n      .finally(() => {\n        loadInfo.classList.add('loader');\n        breedSelect.removeAttribute('disabled');\n        catInfoElement.style.display = 'flex';\n        //catInfoElement.removeAttribute('hidden');\n      })\n  );\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst errorElement = document.querySelector('.error');\n\n//const loadInfo = document.querySelector('.loader');\n//const apiKey =\n//'live_8nXLD69ky6MH51nGc5mvPbjfOi98w4qyCcfPOoIFwqHLRKTTVCD9ryS7DrODa9D1';\n\n//breedSelect.addEventListener('change', function () {});\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchBreeds().then(breedOptions => {\n    breedOptions.forEach(option => {\n      const optionElement = document.createElement('option');\n      optionElement.value = option.value;\n      optionElement.textContent = option.name;\n      breedSelect.appendChild(optionElement);\n    });\n  });\n});\n\nbreedSelect.addEventListener('change', function () {\n  const selectedBreedId = breedSelect.value;\n  errorElement.style.display = 'none';\n\n  fetchCatByBreed(selectedBreedId)\n    .then(catData => {\n      if (catData.length > 0) {\n        const cat = catData[0].breeds[0];\n        const catImg = catData[0];\n        console.log(catData);\n        const catHtml = `\n            <img class=\"cat-img\" src=${catImg.url} alt=\"Cat\">\n            <div class=\"cat-text\">\n                <h2 class=\"cat-name\">${cat.name}</h2>\n                <p class=\"cat-description\">${cat.description}</p>    \n                <p class=\"cat-temp\"><span class=\"text-bold\">Temperament:</span>${cat.temperament}</p>\n            </div>\n       \n        `;\n        const catInfoElement = document.querySelector('.cat-info');\n        catInfoElement.innerHTML = catHtml;\n      } else {\n        throw new Error('Brak danych o kocie.');\n      }\n    })\n    .catch(error => {\n      errorElement.style.display = 'block';\n      console.error('Błąd podczas pobierania danych o kocie:', error);\n    });\n});\n"],"names":["$6b5f202d1456c0af$exports","$6b5f202d1456c0af$var$loadInfo","classList","remove","$6b5f202d1456c0af$var$breedSelect","setAttribute","fetch","headers","then","response","ok","Error","json","data","map","breed","value","id","name","catch","error","$6b5f202d1456c0af$var$errorElement","style","display","console","log","finally","add","removeAttribute","breedId","$6b5f202d1456c0af$var$catInfoElement","document","querySelector","$1f0dc3b9307be026$var$breedSelect","$1f0dc3b9307be026$var$errorElement","addEventListener","fetchBreeds","breedOptions","forEach","option","optionElement","createElement","textContent","appendChild","selectedBreedId","fetchCatByBreed","catData","length","cat","breeds","catImg","catHtml","url","description","temperament","innerHTML"],"version":3,"file":"index.7d67e715.js.map"}